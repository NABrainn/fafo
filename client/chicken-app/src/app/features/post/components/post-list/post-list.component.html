<div class="bg-primary grow-1 flex flex flex-col gap-4 p-8 justify-between">
    @if(posts.error()) {
        <div class="flex flex-col justify-center items-center bg-secondary m-20 min-h-40 w-2/5 mx-auto rounded">
            <p class="text-lg">Wystąpił błąd podczas pobierania danych</p>
            <span>Kliknij
                <a
                class="text-accent cursor-pointer select-none"
                (click)="posts.reload()">tutaj</a> aby spróbować jeszcze raz
            </span>
        </div>
    }
    @if(posts.value()?.length === 0) {
        <div class="flex flex-col items-center">
            <p class="text-xl pt-20 text-center">Lista postów jest obecnie pusta</p>
            <p>[...]</p>
        </div>
    }
    @else {
      <div
      class="flex sm:flex-row flex-col-reverse gap-4">
        <div
        class="
        grid grid-cols-1
        md:grid-cols-2
        2xl:grid-cols-3 gap-8 sm:w-3/5 w-full mx-auto">
          @for(post of posts.value(); track $index) {
            <app-post-card
              [id]="post.id"
              [author]="post.author.username">
              <h2 ngProjectAs="title">
                {{post.title}}
              </h2>
              <span ngProjectAs="description">
                        {{post.subtitle}}
                    </span>
              <div ngProjectAs="footer">
                <span>{{post.author.username}} | {{post.createdAt}}</span>
              </div>
            </app-post-card>
          }
          </div>
          <div class="">
            <app-stooq-display></app-stooq-display>
          </div>
      </div>
    }
    <button
      class="fixed bottom-5 right-5 sm:block self-end py-4 px-12 rounded cursor-pointer bg-accent text-neutral-light"
      routerLink="/posty/nowy"
      routerLinkActive="active">
      Wstaw nowy post
    </button>
    <router-outlet></router-outlet>

</div>
