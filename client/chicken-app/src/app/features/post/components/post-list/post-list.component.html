<div class="grow-1 flex flex-col gap-4 py-8">
  <div class="grow-1 flex flex-col justify-between sm:w-4/5 w-full mx-auto sm:px-0 px-4">
    @if (posts.isLoading()) {
    <div
      class="
    flex justify-between flex-col gap-8
    md:flex-row">
      <div
        class="
          animate-pulse
          grid grid-cols-1
          2xl:grid-cols-2 gap-8">
          <div class="w-130">
            <app-post-card>
              <h2 ngProjectAs="title">
                Title...
              </h2>
              <span ngProjectAs="description">
                Subtitle...
              </span>
              <div ngProjectAs="footer">
                <span>Created at...</span>
              </div>
            </app-post-card>
          </div>
          <div class=" w-130">
            <app-post-card>
              <h2 ngProjectAs="title">
                Title...
              </h2>
              <span ngProjectAs="description">
                  Subtitle...
                </span>
              <div ngProjectAs="footer">
                <span>Created at...</span>
              </div>
            </app-post-card>
          </div>
          <div class=" w-130">
            <app-post-card>
              <h2 ngProjectAs="title">
                Title...
              </h2>
              <span ngProjectAs="description">
                  Subtitle...
                </span>
              <div ngProjectAs="footer">
                <span>Created at...</span>
              </div>
            </app-post-card>
          </div>
          <div class=" w-130">
            <app-post-card>
              <h2 ngProjectAs="title">
                Title...
              </h2>
              <span ngProjectAs="description">
                  Subtitle...
                </span>
              <div ngProjectAs="footer">
                <span>Created at...</span>
              </div>
            </app-post-card>
          </div>
      </div>
    </div>
    }
    @if (posts.error()) {
      <div class="text-error bg-secondary p-8">Błąd przy wczytywaniu postów</div>
    }
    <div
    class="
    flex justify-between flex-col gap-8
    md:flex-row">
      <div
      class="
      grid grid-cols-1
      2xl:grid-cols-2 gap-8">
        @for (post of posts.value(); track $index) {
          <div class=" max-w-130">
            <app-post-card
              [imageId]="post.imageId"
              [id]="post.id"
              [author]="post.author.username">
              <h2 ngProjectAs="title">
                {{ post.title }}
              </h2>
              <span ngProjectAs="description">
                    {{ post.subtitle }}
                </span>
              <div ngProjectAs="footer">
                <span>{{ post.author.username }} | {{ post.createdAt }}</span>
              </div>
            </app-post-card>
          </div>
        } @empty {
          <div class="flex flex-col gap-8 items-center">
            <p class="text-xl pt-20 text-center">Lista postów jest obecnie pusta</p>
          </div>
        }
      </div>
      <app-stooq-display></app-stooq-display>
    </div>
    <button
      class="fixed bottom-2 right-2 lg:relative self-end py-4 px-12 rounded cursor-pointer bg-accent text-neutral-light"
      routerLink="/posty/nowy"
      routerLinkActive="active">
      Wstaw nowy post
    </button>
  </div>
</div>
