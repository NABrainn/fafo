import{a as s}from "./chunk-LXZVEW4E.js";import{a as P}from "./chunk-RB3EWRZX.js";import{$ as y,A as f,E as C,J as x,N as g,R as i,S as a,T as m,U as k,V as A,W as b,_ as p,fa as w,m as d,ma as F,oa as I,p as r,pa as S,qa as _,r as h,s as v,sa as R,ta as j,ua as L,va as H,wa as E}from "./chunk-54NRRIHP.js";var O=(t, o)=>r(s).verifyToken();var N=(t, o)=>{let e=r(j),n=t.paramMap.get("id");return n?/^\d+$/.test(n)?!0:(e.navigate(["/404"]),!1):!1};var T=[{path:"posty",loadComponent:()=>import("./chunk-RYQMYCWX.js").then(t=>t.PostListComponent),children:[{path:"nowy",loadComponent:()=>import("./chunk-EM36Q3OH.js").then(t=>t.PostFormComponent),canActivate:[O]}]},{path:"posty/:id",loadComponent:()=>import("./chunk-KHW3AEOK.js").then(t=>t.PostPageComponent),canActivate:[N]},{path:"rejestracja",loadComponent:()=>import("./chunk-2JXB7OGV.js").then(t=>t.RegisterFormComponent)},{path:"logowanie",loadComponent:()=>import("./chunk-CFMUYANU.js").then(t=>t.LoginFormComponent)},{path:"",redirectTo:"/posty",pathMatch:"full"},{path:"**",loadComponent:()=>import("./chunk-REUN3WCO.js").then(t=>t.PageNotFoundComponent)}];function M(t, o){let e=localStorage.getItem("token")||"",n=t.clone({headers:t.headers.set("Authorization",`Bearer ${e}`)});return o(n)}var U={providers:[w({eventCoalescing:!0}),E(T),I(S([M]))]};var l=class t{PUBLIC_URL=`${P.apiUrl}/chicken/public/facts`;#t=_(()=>this.PUBLIC_URL);loadFacts(){return this.#t}static \u0275fac=function(e){return new(e||t)};static \u0275prov=d({token:t,factory:t.\u0275fac,providedIn:"root"})};function D(t, o){t&1&&(i(0,"span",6),p(1,"Zaloguj"),a())}function G(t, o){if(t&1){let e=k();i(0,"span",10),A("click",function(){h(e);let c=b();return v(c.logout())}),p(1,"Wyloguj"),a()}}var u=class t{authService=r(s);factService=r(l);facts=this.factService.loadFacts();get authenticated(){return this.authService.authenticated()}logout(){this.authService.logout()}ngOnInit(){this.authService.verifyAuthenticated().subscribe(),setInterval(()=>this.facts.reload(),1e4)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-root"]],decls:13,vars:2,consts:[[1,"flex","flex-col","justify-between","min-h-screen"],[1,"min-h-10","flex","justify-between","items-center","bg-secondary","px-6","py-2"],["routerLink","/","routerLinkActive","active",1,"flex","items-center","gap-2","cursor-pointer","select-none"],["src","/chick.svg","alt","obrazek pokazuj\u0105cy logo","height","16","width","16",1,"w-16","h-auto"],[1,"text-accent","text-2xl","font-bold","md:block","hidden"],[1,"max-w-140","lg:block","md:text-md","text-sm","hidden"],["routerLink","/logowanie","routerLinkActive","active",1,"text-accent","text-xl","underline","cursor-pointer"],[1,"text-accent","text-xl","underline","cursor-pointer"],[1,"bg-secondary","text-center"],[1,"text-center"],[1,"text-accent","text-xl","underline","cursor-pointer",3,"click"]],template:function(e, n){if(e&1&&(i(0,"div",0)(1,"nav",1)(2,"div",2),m(3,"img",3),i(4,"span",4),p(5,"Hotwings"),a()(),i(6,"span",5),p(7),a(),x(8,D,2,0,"span",6)(9,G,2,0,"span",7),a(),m(10,"router-outlet"),i(11,"footer",8),m(12,"span",9),a()()),e&2){let c;f(7),y((c=n.facts.value())==null||c.fact==null?null:c.fact.fact),f(),g(n.authenticated?9:8)}},dependencies:[R,L,H],encapsulation:2})};F(u,U).catch(t=>console.error(t));
