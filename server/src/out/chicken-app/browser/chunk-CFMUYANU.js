import{a as C}from "./chunk-LXZVEW4E.js";import{a as w,b as d,c as S,d as h,e as D,f as F,g as L,h as N,i as k}from "./chunk-ULCJ533E.js";import"./chunk-RB3EWRZX.js";import{$ as c,A as n,E as u,L as i,R as r,S as o,T as l,V as f,_ as t,ja as g,la as b,p as m,ua as v,va as y}from "./chunk-54NRRIHP.js";var E=class p{loginService=m(C);fb=m(N);form=this.fb.nonNullable.group({username:["",[d.required]],password:["",[d.required]]});message=g(()=>this.loginService.message());onSubmit(a){if(a.preventDefault(),this.form.invalid){this.message.set("Formularz jest niepoprawny");return}this.loginService.login({username:this.form.value.username,password:this.form.value.password}).subscribe()}ngOnInit(){this.loginService.authenticated()&&this.loginService.navigateHome()}ngOnDestroy(){this.loginService.clearMessage()}static \u0275fac=function(s){return new(s||p)};static \u0275cmp=u({type:p,selectors:[["app-login-form"]],hostAttrs:[1,"bg-primary","grow-1"],decls:20,vars:10,consts:[[1,"2xl:w-1/5","w-1/2","mx-auto","bg-secondary","my-8","md:p-8","p-4","rounded-lg","shadow-md","flex","flex-col","md:gap-2","gap-1.5",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-1"],["for","username"],["id","username",1,"border-2","rounded","focus:outline-none","bg-primary","border","focus:border-tertiary",3,"formControl","ngClass"],[1,"text-error",3,"ngClass"],["for","password"],["type","password","id","password",1,"border-2","rounded","focus:outline-none","bg-primary","border","focus:border-tertiary",3,"formControl","ngClass"],["type","submit",1,"rounded","px-6","py-1","border","border-2","border-accent",3,"disabled","ngClass"],[1,"h-4","text-error"],[1,"flex","justify-between"],["routerLink","/rejestracja","routerLinkActive","active",1,"cursor-pointer","text-tertiary","underline"]],template:function(s, e){s&1&&(r(0,"form",0),f("ngSubmit",function(x){return e.onSubmit(x)}),r(1,"div",1)(2,"label",2),t(3,"Nazwa u\u017Cytkownika"),o(),l(4,"input",3),r(5,"span",4),t(6,"Pole musi by\u0107 wype\u0142nione"),o()(),r(7,"div",1)(8,"label",5),t(9,"Has\u0142o"),o(),l(10,"input",6),r(11,"span",4),t(12,"Pole musi by\u0107 wype\u0142nione"),o()(),r(13,"button",7),t(14,"Prze\u015Blij"),o(),r(15,"span",8),t(16),o(),r(17,"div",9)(18,"a",10),t(19,"Za\u0142\xF3\u017C konto"),o()()()),s&2&&(i("formGroup",e.form),n(4),i("formControl",e.form.controls.username)("ngClass",e.form.controls.username.invalid&&e.form.controls.username.touched?"border-error":"border-primary"),n(),i("ngClass",e.form.controls.username.invalid&&e.form.controls.username.touched?"":"invisible"),n(5),i("formControl",e.form.controls.password)("ngClass",e.form.controls.password.invalid&&e.form.controls.password.touched?"border-error":"border-primary"),n(),i("ngClass",e.form.controls.password.invalid&&e.form.controls.password.touched?"":"invisible"),n(2),i("disabled",!e.form.valid)("ngClass",e.form.valid?"bg-accent cursor-pointer":"bg-primary"),n(3),c(e.message()))},dependencies:[k,D,w,S,h,F,L,y,v,b],encapsulation:2})};export{E as LoginFormComponent};
