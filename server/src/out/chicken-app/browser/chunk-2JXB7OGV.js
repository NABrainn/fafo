import{a as C}from "./chunk-LXZVEW4E.js";import{a as w,b as s,c as S,d as h,e as D,f as E,g as F,h as N,i as R}from "./chunk-ULCJ533E.js";import"./chunk-RB3EWRZX.js";import{$ as g,A as t,E as u,L as n,R as r,S as o,T as m,V as f,_ as i,ja as c,la as b,p as d,ua as v,va as y}from "./chunk-54NRRIHP.js";var k=class p{registerService=d(C);fb=d(N);form=this.fb.nonNullable.group({username:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required]]});message=c(()=>this.registerService.message());onSubmit(l){if(l.preventDefault(),this.form.invalid){this.message.set("Formularz jest niepoprawny");return}this.registerService.register({username:this.form.value.username,email:this.form.value.email,password:this.form.value.password}).subscribe()}ngOnInit(){this.registerService.authenticated()&&this.registerService.navigateHome()}ngOnDestroy(){this.registerService.clearMessage()}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=u({type:p,selectors:[["app-register-form"]],hostAttrs:[1,"bg-primary","grow-1"],decls:26,vars:13,consts:[[1,"2xl:w-1/5","w-1/2","mx-auto","bg-secondary","my-8","md:p-8","p-4","rounded-lg","shadow-md","flex","flex-col","md:gap-2","gap-1.5",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-1"],["for","username"],["id","username",1,"border-2","rounded","focus:outline-none","bg-primary","border","focus:border-tertiary",3,"formControl","ngClass"],[1,"text-error",3,"ngClass"],["for","email"],["id","email",1,"border-2","rounded","focus:outline-none","bg-primary","border","focus:border-tertiary",3,"formControl","ngClass"],["for","password"],["type","password","id","password",1,"border-2","rounded","focus:outline-none","border","focus:border-tertiary","bg-primary",3,"formControl","ngClass"],[1,"bg-accent","rounded","px-6","py-1","border","border-2","border-accent",3,"disabled","ngClass"],[1,"h-4","text-error"],[1,"flex","justify-between"],["routerLink","/logowanie","routerLinkActive","active",1,"cursor-pointer","text-tertiary","underline"]],template:function(a, e){a&1&&(r(0,"form",0),f("ngSubmit",function(O){return e.onSubmit(O)}),r(1,"div",1)(2,"label",2),i(3,"Nazwa u\u017Cytkownika"),o(),m(4,"input",3),r(5,"span",4),i(6,"Pole musi by\u0107 wype\u0142nione"),o()(),r(7,"div",1)(8,"label",5),i(9,"Email"),o(),m(10,"input",6),r(11,"span",4),i(12,"Pole musi by\u0107 poprawnie wype\u0142nione"),o()(),r(13,"div",1)(14,"label",7),i(15,"Has\u0142o"),o(),m(16,"input",8),r(17,"span",4),i(18,"Pole musi by\u0107 wype\u0142nione"),o()(),r(19,"button",9),i(20,"Prze\u015Blij"),o(),r(21,"span",10),i(22),o(),r(23,"div",11)(24,"a",12),i(25,"Zaloguj si\u0119"),o()()()),a&2&&(n("formGroup",e.form),t(4),n("formControl",e.form.controls.username)("ngClass",e.form.controls.username.invalid&&e.form.controls.username.touched?"border-error":"border-primary"),t(),n("ngClass",e.form.controls.username.invalid&&e.form.controls.username.touched?"":"invisible"),t(5),n("formControl",e.form.controls.email)("ngClass",e.form.controls.email.invalid&&e.form.controls.email.touched?"border-error":"border-primary"),t(),n("ngClass",e.form.controls.email.invalid&&e.form.controls.email.touched?"":"invisible"),t(5),n("formControl",e.form.controls.password)("ngClass",e.form.controls.password.invalid&&e.form.controls.password.touched?"border-error":"border-primary"),t(),n("ngClass",e.form.controls.password.invalid&&e.form.controls.password.touched?"":"invisible"),t(2),n("disabled",!e.form.valid)("ngClass",e.form.valid?"bg-accent cursor-pointer":"bg-primary"),t(3),g(e.message()))},dependencies:[R,D,w,S,h,E,F,y,v,b],encapsulation:2})};export{k as RegisterFormComponent};
